# Test Configuration - H2 In-Memory Database
# Automatically used by @QuarkusTest profile

# Use H2 in-memory database for tests (clean state every time)
quarkus.datasource.db-kind=h2
quarkus.datasource.jdbc.url=jdbc:h2:mem:blocpress-test;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false
quarkus.datasource.jdbc.driver=org.h2.Driver
quarkus.datasource.username=sa
quarkus.datasource.password=

# Auto-create schema from Hibernate entities (no Liquibase needed)
quarkus.hibernate-orm.schema-management.strategy=create-drop
quarkus.hibernate-orm.database.generation=create-drop

# Disable Liquibase in tests
quarkus.liquibase.enabled=false

# Use test port to avoid conflicts with running containers
quarkus.http.test-port=8181

# Minimal logging in tests
quarkus.log.level=WARN
%test.quarkus.log.category."io.github.flaechsig.blocpress".level=INFO
